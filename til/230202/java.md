# 예외처리

- 예외처리에서도 “다형성” 개념이 중요하다.

## 오류의 종류

1. **컴파일 에러** : 컴파일 과정에서 발생하는 문법 에러 → 구문 수정 하여 해결
2. **런타임 에러** : 프로그램 실행 중에 입력 값이 틀리거나, 배열의 인덱스 범위를 벗어났거나, 계산식  오류 등을 원인으로 발생하는 에러 → 주로 if문 사용으로 에러 처리
    
    *사용자의 잘못일 수 도 있고, 개발자가 예측 가능한 경우를 제대로 처리하지 않아서 생기는 에러이기도 하다.
    
3. **시스템 에러** : 컴퓨터 오작동으로 인한 에러 → 소스 구문 수정으로 해결이 불가능하다.(가장 심각)
4. 논리 에러 : 소스코드 상의 문법적 문제도 없고, 실행했을 경우에도 굳이 문제가 되지는 않지만, 프로그램의 의도와 맞지 않게 돌아가는 경우()

시스템 에러를 제외한 컴파일 에러, 런타임 에러, 논리 에러와 같은 비교적 덜 심각한 것들을 가지고 작업(이런 것들을 “예외(Exception)”)라고 부른다. 

> 소스 수정으로 해결 가능한 에러를 예외(Exception)라고 하는데, 이러한 예외 상황(예측 가능한 에러) 구문을 처리 하는 방법인 예외처리를 통해 해결
> 

## 예외처리

- 예외 발생에 대비해서 예외를 처리하는 방법을 정의해 둔 것
- 예외처리가 필요한 이유
    - 예외 발생시 프로그램이 비정상적으로 종료되는 것을 막기 위함
    
    ⇒ 프로그램의 완성도를 높이기 위해서
    
- 방법 :
    - try ~ catch 구문(직접 처리)
    
    ```java
    // try~ catch 문
    /*
    try {
    	예외가 발생할 것 같은 구문
    } catch(발생될 예외 클래스 명 변수명 => 매개변수 역할) {
    	예외가 발생했을 때, 실행할 구문 
    }
    */
     
    ```
    
    - throws를 이용(예외처리를 떠넘긴다.)

### 예외 클래스 계층 구조

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/781c7e01-4343-4272-b594-124ec113c825/Untitled.png)

### **Unchecked Exception**

- 프로그램 실행 시 발생되는 예외들
- 추측할 수 있는 에러 **⇒ 조건 검사를 통해 애초에 오류가 발생하지 않도록 예방**
- 보통 자바의 RuntimeException을 Unchecked Exception이라고 한다.
    1. ArrayIndexOutOfBoundsException : 배열의 부적절한 인덱스로 접근할 때, 발생하는 예외
    2. NegativeArraySizeException : 배열의 크기를 음수로 지정할 때 발생하는 예외
    3. ClassCastException : 허용할 수 없는 형변환이 진행 될 경우 발생하는 예외
        
        ⇒ 방지를 위해 오버라이딩을 활용하거나, instanceOf함수를 활용한다.
        
    4. NullPointerException : 주소값이 null일 때, 접근하려고 하면 발생 ⇒ Null 체크로 방지
    5. ArithmeticException : 나누기 연산시 0으로 나눌 때 발생하는 예외
- 이러한 런타임예외와 관련한 예외들은 충분히 발생을 예측할 수 있기 때문에 애초에 예외가 발생하지 않도록 조건문을 활용해서 해결 가능함
    
    굳이 예외처리(예외가 발생했을 때, 실행 할 내용을 정의해 두는 것)을 할 필요가 없음
    
    ```java
    int num1 = 3;
    int num2 = 0; //대강 사용자한테 입력받은 값을 저장했다고 가정하자.
    
    //여기서 에러 예방 가능
    /* 
    1. if 문으로 조건검증
    if (num2 != 0) {
    			System.out.println("나눗셈 연산 결과 : " + (num1/num2));			
    		} else {
    			System.out.println("0으로 나눌 수 없습니다.");
    		}
    */
    //2. try ~ catch 일단 코드는 **실행해본다. 그리고 에러가 나면 잡는다.**
    try {
    			System.out.println("나눗셈 연산 결과 : " + (num1/num2));
    		} catch(ArithmeticException e) {
    			System.out.println("0으로 나누면 안된다고 했잖아요.");
    			// e.printStackTrace(); // 현재 발생한 예외 정보를 볼 수 있다.
    			//사용자에게는 노출하지 않는 것이 좋다. 
    		} //다른 종류의 오류를 받을때는 catch문을 한 번 더 쓰면 된다. 
    
    //System.out.println("나눗셈 연산 결과 : " + (num1/num2));
    // 오류 방지가 없으면 Exception in thread "main" java.lang.ArithmeticException: / by zero
    System.out.println("프로그램 종료");
    
    ```
    

### **Checked Exception**

- 반드시 예외 처리 문법에 따라 예외 처리 해야만 하는 에러
- 어디서 발생할지 예측이 안되기 때문에, 미리 잡고 넘어가야 한다.