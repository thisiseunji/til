네트워크 공부를 하려거든 OSI7계층을 버리자.

- TCP/IP + HTTP는 구현에 대한 개념이라면 OSI7계층은 이론적 정의
- 예를 들어 표현하면, OSI7계층 == 사람, 김은지 ==TCP/IP + HTTP → 보다 실제적인 표현(구현)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6f45d456-9ee4-48b6-a753-ca7fd67db510/Untitled.png)

- 컴퓨터의 구조는 3개 층으로 이뤄져있다.
    - user(sw) : 어플리케이션
    - kernel(sw) : 시스템
    - hw
- OSI 7 계층의 구현 위치는 사진 참고 → 이와 비슷하게 4계층으로도 나누는데(가운데) 더 와닿는 것 같음(둘다 일종의 분류 기준) ⇒ 이런 층들이 어떻게 구현되어있나는 ‘구현’ 그림을 보자
- 그림의 ‘구현’부는 이런 각각 어플리케이션, 전송, 네트워크, 접근 등의 계층을 어떤식으로 구현했는지를 나타낸 부분인데, 여기서 ‘전송’, ‘네트워크’는 TCP/IP로 구현된 것.
- 접근 계층의  NIC: Network Interface Card(LAN카드)는 컴퓨터와 네트워크 사이의 하드웨어 인터페이스를 제공하는 하드웨어다.
- 네트워크/전송 계층은, NIC같은 하드웨어를 컨트롤 하는 ‘Dvice Driver’과 TCP/IP로 구현 되어있다.
- 커널의 구성요소를 user모드의 어플리케이션으로 추상화 할 때는, File의 형태로 추상화 한다.
- **어떤 프로세스가 어떤 프로토콜을, 혹은 커널의 구성요소를 추상화 했는데, 그 프로토콜이 네트워크와 관련되어 있을 때 ,우리는 그 파일을 ‘Socket’이라고 부른다.**
- **예를 들어, 누군가 ‘TCP/IP 소켓이 무엇이냐?’ 라고 누군가 묻는다면 TCP를 user 모드 어플리케이션이 접근할 수 있도록 추상화 한 인터페이스가 소켓인 것이다.**

---

정리 :

- OSI7계층 말고 TCP/IP를 공부하자.
- 웹 개발은 + HTTP도 공부하자. 참고로 http는 7계층 어플리케이션 계층에 속한다.
- 추가적으로 알아야 하는 것

> DoD 분류를 기준으로 각 계층마다 **‘식별자’**가 있다. 
엑세스 계층 : MAC 주소
네트워크 계층 : IP 주소
전송 계층 : Port 번호

**그렇다면 이 각각이 식별하는 것은 무엇인가? 무엇에 대한 식별자인가?**
> 
- MAC 주소, IP 주소, Port 번호
    
    ---
    
    - 여기서 IP주소는 v4, v6가 혼재되어있다.
    - MAC 주소  ⇒ NIC카드(LAN카드)를 식별, NIC(닉) 마다 하나씩 꼭 있음.
        - **MAC 주소는 변경 가능한가? ⇒ 가능하다.(외웡)**
    - IP 주소 ⇒HOST(인터넷, 즉 네트워크에 연결 된 컴퓨터)를 식별한다.
        - 참고로 NIC는 하나에 여러개의 IP주소 ‘바인딩’이 가능하다. ⇒ 1개의 컴퓨터가 n개의 IP주소를 가질 수 있다.
    - Port번호 : 업무에 따라 인지하는 개념이 다르다.
        - 어플리케이션 환경에서의 Port 번호 : Process로 식별
        - 네트워크 환경에서의 Port번호 : Service로 식별
        
        > 예를 들어, 웹개발할 때, http 통신을 80포트를 많이 사용하지만, 꼭 그렇지는 않다. 
        그래서 네트워크 관련한 기술자에게 포트를 열어달라는 요청을 할 때는, 80번 포트를 열어달라고 하지 않고, **http 서비스 열어주세요**. 라고 하게 되는 것
        > 
        - 하드웨어 환경에서의 Port 번호 : 인터페이스 번호(공유기 단자 번호)
    
- ****Host, Switch, Network****
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dab5281a-372f-48d2-bcbd-6eb5a29962db/Untitled.png)
    
    ### Host
    
    - 정의 : **네트워크에 연결된 컴퓨터**
        
        호스트는, 두 가지 분류로 나눌 수 있음. 
        
        - Network 이용주체인 Host ⇒ **End-point(단말)**라고도 부름
            - Peer, Server, Client이런식으로 역할에 따라 또 나눠짐
        - Network 그 자체를 구성하는 Host ⇒ 이건 **[Switch](https://www.notion.so/eb1f77651c994d22a4bf47aed8ed5eff)**
    
    ### Switch
    
    ** 참고 : [[****허브, 라우터, 공유기, 스위치의 개념과 차이점]****](https://www.notion.so/2c86ac909cef41308596eec5e07bc0d4)
    
    - Network 그 자체를 구성하는 컴퓨터
    - 대표적으로 Router(경로를 찾기위한 스위칭)가 있음(그 외에도 Firewall(F/W), IPS(보안 스위치)도 있음. 기본적으로 스위칭이지만 역할에 따라 다름)
        
        > Router란 무엇일까?
        라우터는 **LAN(Local Area Network:근거리 통신망)을 연결해 주는 장치**로써, 데이터를 전송할 때 `**최종 목적지에 가기 위하여 거쳐야하는 많은 경로들 중에 적절한 통신 경로를 결정하기 위하여 한 통신망에서 다른 통신망으로 데이터 패킷을 전송하는 장치**`이다.
        > 
        
        - Switch가 하는 일은 : 연결된 장치들의 IP와 MAC 주소를 기반으로 필요한 장치에 데이터 패킷을 전송(그야말로 스위칭)
        
        > 예를들어 , **87.90.40.2:5000**라는 IP와 Port로 요청이 들어왔다고 가정해보자. 이 경우 스위치는 해당 요청을 받아서, 테이블에서 요청된 IP와 Port에 해당하는 MAC 주소를 찾고, 해당 MAC 주소를 가진 장치에게 데이터 패킷을 전송한다. 만약, IP주소와 Port에 일치하는 MAC 주소가 테이블에 존재하지 않는 경우에는, 허브처럼 모든 장치들에게 다 데이터 패킷을 뿌려서(포워딩해서) 테이블을 갱신한다.
        > 
        
    - 스위칭은 모든 단계에서 일어나는데, **어떤 계층의 정보를 기반으로 하느냐**에 따라 스위치의 이름이 다르다.  MAC 주소를 기반으로 하면 L2(Layer 2) 스위치, IP는 L3(이게 라우터), Port번호는 L4, HTTP 통신 프로토콜 중 일부를 갖고 스위칭을 하면 L7스위치가 된다. (가격은 Layer가 높아질 수록 비싸진다.)
    
    ### Network
    
    - 가장 유명한 네트워크 : **Internet**
    - **Internet**을 이루는 가장 중대한 **구성요소**
        - Router
        - DNS : 도메인서버로, 도메인 서버를 통해 IP를 얻을 수 있다.
        
        ⇒ **즉, 인터넷이란 라우터와 DNS의 집합체이다.**
        

 ****

---

그렇다면 인터넷 공유기란 뭘까? 스위치라고 말 할 수 있을까? 만약 그렇다면 어디에 속하는 스위치라고 말할 수 있을까?

⇒ 인터넷 공유기의 역할은..? 하나의 IP 주소로 여러대의 컴퓨터를 인터넷에 연결하도록 하는거니까 3계층 스위치가 아닐까?

[****네트워크 기초 이론 - 널널한 개발자 유튜브 강의****] ([https://www.youtube.com/playlist?list=PLXvgR_grOs1BFH-TuqFsfHqbh-gpMbFoy](https://www.youtube.com/playlist?list=PLXvgR_grOs1BFH-TuqFsfHqbh-gpMbFoy))를 참고하여 메모하였습니다.