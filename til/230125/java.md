# 추상화(abstraction)

1. 객체지향언어 : C#, JAVA 등… 객체를 지향하는 언어로 객체 중심으로 실행된다.
2. 객체란 :
    1. 사전적 의미 : 현실 세계에 독립적으로 존재하는(존재의 목적과, 의미를 가진) 모든 것을 의미(유형, 무형, 사물, 개념, …)
3. 객체지향 프로그래밍 : 현실세계에서 존재하는 독립적인 존재들(객체) 간의 상호작용(행위)을 코드로 구현하는 과정 ⇒ 즉, 프로그래밍을 통해 가상세계를 구현하는 과정
4. 구현하고자 하는 프로그램 상의 필요한 객체를 만들기 위해서(생성하기 위해서) 우선적으로 “클래스(각 객체들의 속성, 즉 정보를 담아낼 수 있는 그릇, 틀과 같은 존재)” 라는 틀을 만들어야함. 
    
    클래스를 어떻게 만드는가? ⇒ 1단계 추상화+ 2단계 캡슐화
    
5. 추상화 과정
    1. 내가 구현하고자 하는 프로그램에서 필요한 부품, 즉 객체를 생각한다.
        
        ex) 학생 관리 프로그램 ⇒ 학생 : 김은지, 임보영… 등등
        
    2. 떠올린 객체가 갖고 있는 공동적인 속성, 기능을 모두 추출한다. 
        
        ex) 이름, 나이, 성별, 휴대폰 번호, 이메일 주소, 집 주소, 신장, 몸무게 등등
        
        출석한다, 과제를 제출한다. 밥을 먹는다, 잠을 잔다 등등
        
    3.  추출한 속성, 기능 중, 내가 구현 할 프로그램의 목적에 맞는 것 만을 추려서 불필요한 속성, 기능들을 제거
        
        ex) 학생 “건강” 관리 프로그램 ⇒ 이름, 나이, 성별, 키, 몸무게, 발 사이즈 등…
        
    4. 최종적으로 추려진 속성을 가지고 어떤 자료형에 어떤 이름으로 사용할 것인지 코드로 생각해보기
        
        ex) 이름 : 문자열, 나이 : 정수, 성별: boolean, 키 : 실수… 등등
        
        > **예시(학생관련프로그램)**
        1. 학생 관련 객체(홍길동, 김갑생, 박말똥…)
        2. 공통 속성 및 기능(이름, 나이, 성별, 각 과목 점수, 몸무게, 머리색, 달리기 속도, 키, 학년, 반, 학력, 달린다, 출석한다, 먹는다, 시험본다, 과제를 제출한다, 숨쉰다, 잠잔다, 공부한다… 등등)
        3. 학생의 인적사항을 관리할 프로그램이라고 한다면…
            : 이름, 나이, 성별, 주소, 학년, 반, 번호 등 **관련 있는 속성 및 기능만 추려낸다(핵심)**
           학생의 성적을 관리하는 프로그램이라고 한다면…
            : 이름, 나이, 과목별 점수, 공부한다, 시험을 본다, 과제를 제출한다, 출석한다… 등
        4. 최종적으로 이름, 나이, 키를 추려냈다면…
            이름 ⇒ String name;
            나이 ⇒ int age;
            키    ⇒ double height;
        > 

 6. 위에 선정된 것들로 본격적인 프로그래밍을 할 것

1. “변수”만으로 프로그래밍 한다면..?
    - 한 명의 학생 객체를 만들기 위해 변수가 적어도 3개 필요(이름, 나이, 키)
        
        ```java
        //홍길동
        String name1 = "홍길동";
        int age1 = 20;
        double height1 = 168.7;
        
        //김갑생
        String name2 = "김갑생";
        int age2 = 40;
        double height2 = 182.7;
        
        //박말똥
        String name3 = "박말똥";
        int age3 = 25;
        double height3 = 172.6;
        
        // 사람수가 늘어날 수록 너무 많은 코드를 작성해야한다.
        // => 코드의 유지보수가 너무 힘들다
        ```
        
2. “배열”로 프로그래밍을 한다면
    
    ```java
    String[] name = {"홍길동", "김갑생", "박말똥"};
    int[] age = {20, 40, 25};
    double[] height = {168.7, 182.7, 172.6};
    
    // 만일 학생이 전학을 온다면...?
    // 배열은 한 번 길이가 정해지면 변경할 수 없으므로 새 배열을 생성하고, 깊은 복사 과정을 거쳐 수정해주어야 한다. 
    ```
    
3. 그래서 나온 개념이 “구조체”라는 개념
    - **한 번에 여러 개의 자료형 값을 여러 개 보관할 수 있는 배열**
    - String, int, double, char 등을 한 번에 보관할 수 있다.
    - 자바에서는 이 구조체를 클래스 라고 부른다. (C언어에서는 구조체라고 부름)
    
    **클래스** : 각 객체들의 속성 정보를 담아내는 그릇과도 같은 존재(틀)
    
           VO(Value Object) : 값을 담는 용도의 클래스 
    
    *** 그래서 이런 값을 담는 용도의 클래스는 ~.model.vo 패키지에 주로 생성한다.
    
    컨트롤러 클래스 : 메소드, 즉 기능 구현에 초점을 맞춰진 클래스
    
    ⇒ 궁금 : 만일 vo와 co?로 구분해서 만든다면, 프로그램당 여러개씩 만들 수 있는건가? 
    
    ㅇㅖ~!
    
    ```java
    //클래스는 참조자료형 변수인 것
    A_Array a = new A_Array();
    ```
    

---

### 클래스구조

```java
public class 클래스명 {
		// 필드부
		// 나만의 구조체(클래스에)에 어떤 자료형의 어느 값을 담고싶은지 변수로서 정의하는 부분
		// 이 때 변수 하나, 하나를 "필드 라고 한다." => 클래스 안에 정의된 변수
		// 접근제한자 자료형 필드명;

		// 접근제한자 : 필드에 접근할 수 있는 범위를 제한할 수 있다.
		//			       (public > protected > default > private)
		//			       클래스 영역 안에서 필드를 선언 할 때에는 반드시 접근제어자를 붙여준다.

		// 생성자부 => 특이하게 생긴 메소드, 변수를 초기화 하는 기능을 할 예정

		// 메소드부
} 
```

만일 클래스를 이용해 객체를 생성하면 객체가 메모리에 로드되는 순서는,

```java
		Student hong = new Student();
		// 1.메모리의 stack 영역에 Student 형태의 상자 생성(메모리 영역 할당)
		// **Student 형태의 상자에는 Student 타입의 객체만 할당될 수 있음!(핵심)**
		// 2. 메모리의 heap영역에  "내가 정의한 배열"이 생성됨. {name, age, height} => 명시적으로 초기화 하지 않았으므로 묵시적으로 초기화됨

		// 결국, hong은 생성된 객체(를 가리키는 참조자료형 변수)이다.
		// new Student();를 통해 **내가 정의한 배열**이 생성된다. 

```

```java
		hong.name = "홍길동";
		hong.age  = 20;
		hong.height = 173.3;
		//필드에 접근시 .으로 접근한다.
		
		//김갑생 객체 만들기
		Student kim = new Student();
		kim.name = "김갑생";
		kim.age = 40;
		kim.height = 168.7;
		
//		System.out.println(hong); //주소값 출력
//		System.out.println(kim); // 실제 자료에 접근하고 싶다면 kim.name의 방식으로 직접접근 하면 된다.
		
		System.out.printf("%s님의 나이는 %d살이고, 키는 %.1fcm 입니다.\n", hong.name, hong.age, hong.height);
		System.out.printf("%s님의 나이는 %d살이고, 키는 %.1fcm 입니다.\n", kim.name, kim.age, kim.height);

		//홍길동님의 나이는 20살이고, 키는 173.3cm 입니다.
		//김갑생님의 나이는 40살이고, 키는 168.7cm 입니다.
```

1. 캡슐화 과정을 통해 완변한 클래스의 형태를 갖추게 한다.
    - 정보보안의 3요소 : 기밀성(권한에 따라 접근 제한), 무결성(데이터 훼손 방지), 가용성
    
    캡슐화를 하지 않으면, 외부로부터 데이터의 직접 접근이 가능하기 때문에 함부로 값이 변질되거나 조회를 막지 못 하는 상황 발생(보안취약점 발생)
    
    ⇒ 객체지향 설계 원칙 중 하나인 정보 은닉을 실현하려면, 정보 은닉 기술 중 하나인 “캡슐화”를 적용 해야 한다. 
    
    캡슐화란… “데이터의 접근 제한” 을 원칙으로 하여 외부로부터의 데이터에 대한 “직접 접근을 막자”는 생각에서 출발한 개념 ⇒ 단, 간접적으로 데이터의 처리를 가능하도록 “메소드(getter, setter)”를 이용한다. 
    
    - 캡슐화 방법:
        1. 데이터의 접근 자체를 막는다. ⇒ 접근제어자 활용
            1. 변수의 접근제어자를 public이 아닌 private를 사용
        2. 간접적으로 접근할 수 있도록 메소드를 만들자. 
            1. getter(필드에 접근해서 값을 꺼내 올 용도로 만드는 메소드)
            2. setter(필드에 접근해서 값을 대입할 용도로 만드는 메소드)
            
            ```java
            public class Student {
            	
            	// 필드 == 멤버변수 == 인스턴스 변수 == 전역변수
            	// 접근제한자[예약어] 자료형 필드명
            	// **예약어는 생략 가능, 자바에서 이미 특별한 뜻으로 묶어둔 단어, static 같은 것
            	private String name;
            	private int age;
            	private double height;
            	
            	
            	//생성자
            	
            	// 메소드
            	// 접근제한자 반환형 메소드명(매개변수) {}
            	
            	public String getName() {
            		return name;
            	}
            	public void setName(String name) {
            		this.name = name; //특정 영역 안에서는 해당 영역 안의 지역변수가 더 우선권이 있다. 
            	}
            	public int getAge() {
            		return age;
            	}
            	public void setAge(int age) {
            		this.age = age;
            	}
            	public double getHeight() {
            		return height;
            	}
            	public void setHeight(double height) {
            		this.height = height;
            	}
            
            }
            ```
            
            ```java
            public static void main(String[] args) {
            		Student hong = new Student();
            		hong.setName("홍길동");
            		hong.setAge(20);
            		hong.setHeight(173.3);
            		System.out.printf("%s님의 나이는 %d살이고, 키는 %.1fcm 입니다.\n", hong.getName(), hong.getAge(), hong.getHeight());
            	}
            
            //홍길동님의 나이는 20살이고, 키는 173.3cm 입니다.
            ```
            

---

**출력이 귀찮으니

```java
public String information() {
		return name + "님의 나이는 " + age + "살이고, 키는 " + height + "cm 입니다.";
	}
```

정보를 담은 String을 리턴하는 함수를 만들어 

```java
Student kim = new Student();
		kim.setName("김영희");
		kim.setAge(21);
		kim.setHeight(180.3);
//  System.out.printf("%s님의 나이는 %d살이고, 키는 %.1fcm 입니다.\n", kim.getName(), kim.getAge(), kim.getHeight());
		
		System.out.println(kim.information());

// 김영희님의 나이는 21살이고, 키는 180.3cm 입니다.
```

이렇게 사용하도록 하자.